<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Summary</title>
    <link rel="icon" type="image/png" href="images/logo.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style/OrderSummary.css">
    <style>
      .container-progress {
        width: 100%;
      }
      .progress-bar-custom {
        background-color: #4caf50;
      }

      .progress-labels {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-weight: bold;
        font-size: 0.9rem;
      }

      /* Active and completed step indicator */
      .step-completed {
        color: #4caf50;
      }

      .step-pending {
        color: #888;
      }

      /* Align labels */
      .progress-step {
        flex: 1;
        text-align: center;
      }
      .progress-marker {
        width: 1.5rem;
        height: 1.5rem;
        line-height: 1.5rem;
        background-color: #ddd;
        border-radius: 50%;
        display: inline-block;
        color: white;
        font-size: 0.9rem;
      }

      /* Completed marker styling */
      .step-completed .progress-marker {
        background-color: #4caf50;
      }
    </style>
</head>
<body>
     <!-- Navbar -->
     <nav class="navbar fixed-top">
        <div class="navbar-container">
          <a class="navbar-brand" href="/">
            <span>
              <img src="/images/logo.png" alt="Logo" style="width: 30px" />
            </span>
            <span style="color: #5f6368">GymArticles</span>
          </a>
          <div>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="/cart"
                  style="display: flex; align-items: center; gap: 5px"
                >
                  <span style="position: relative">
                    <div
                      class="notification-badge"
                      id="cart-count"
                      style="
                        position: absolute;
                        top: -5px;
                        right: -5px;
                        background-color: red;
                        color: #ffffff;
                        border-radius: 50%;
                        width: 18px;
                        height: 18px;
                        padding: 8px;
                        display: none;
                        align-items: center;
                        justify-content: center;
                        font-size: 10px;
                        font-weight: bold;
                      "
                    >
                      <%= nrCart %>
                    </div>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      height="24px"
                      viewBox="0 -960 960 960"
                      width="24px"
                      fill="#5f6368"
                    >
                      <path
                        d="M292.31-115.38q-25.31 0-42.66-17.35-17.34-17.35-17.34-42.65 0-25.31 17.34-42.66 17.35-17.34 42.66-17.34 25.31 0 42.65 17.34 17.35 17.35 17.35 42.66 0 25.3-17.35 42.65-17.34 17.35-42.65 17.35Zm375.38 0q-25.31 0-42.65-17.35-17.35-17.35-17.35-42.65 0-25.31 17.35-42.66 17.34-17.34 42.65-17.34t42.66 17.34q17.34 17.35 17.34 42.66 0 25.3-17.34 42.65-17.35 17.35-42.66 17.35ZM235.23-740 342-515.38h265.38q6.93 0 12.31-3.47 5.39-3.46 9.23-9.61l104.62-190q4.61-8.46.77-15-3.85-6.54-13.08-6.54h-486Zm-19.54-40h520.77q26.08 0 39.23 21.27 13.16 21.27 1.39 43.81l-114.31 208.3q-8.69 14.62-22.58 22.93-13.88 8.31-30.5 8.31H324l-48.62 89.23q-6.15 9.23-.38 20 5.77 10.77 17.31 10.77h435.38v40H292.31q-35 0-52.23-29.5-17.23-29.5-.85-59.27l60.15-107.23L152.31-820H80v-40h97.69l38 80ZM342-515.38h280-280Z"
                      />
                    </svg>
                  </span>
                  My Cart
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="main-container">
        <div class="container-progress">
            <!-- Progress Step Labels -->
            <div class="progress-labels">
              <div class="progress-step step-completed">
                <span class="progress-marker">1</span><br />
                My Cart
              </div>
              <div class="progress-step step-completed">
                <span class="progress-marker">2</span><br />
                Order Detail
              </div>
              <div class="progress-step step-completed">
                <span class="progress-marker">3</span><br />
                Order Summary
              </div>
              <div class="progress-step step-pending">
                <span class="progress-marker">4</span><br />
                Order Placed
              </div>
            </div>
            <div class="progress">
              <div
                class="progress-bar progress-bar-custom"
                role="progressbar"
                style="width: 75%"
                aria-valuenow="50"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                75%
              </div>
            </div>
          </div>
          <div class="summary-container">
            <div class="summary-card">
                <div class="summary-header">
                    <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#444444"><path d="M421-324.92 677.08-581l-23.7-23.46L421-371.31 304.08-488.23l-22.7 23.46L421-324.92ZM480.13-120q-74.44 0-139.79-28.34t-114.48-77.42q-49.13-49.08-77.49-114.37Q120-405.42 120-479.87q0-74.67 28.34-140.41 28.34-65.73 77.42-114.36 49.08-48.63 114.37-76.99Q405.42-840 479.87-840q74.67 0 140.41 28.34 65.73 28.34 114.36 76.92 48.63 48.58 76.99 114.26Q840-554.81 840-480.13q0 74.44-28.34 139.79t-76.92 114.48q-48.58 49.13-114.26 77.49Q554.81-120 480.13-120Zm-.13-30.77q137.38 0 233.31-96.04 95.92-96.04 95.92-233.19 0-137.38-95.92-233.31-95.93-95.92-233.31-95.92-137.15 0-233.19 95.92-96.04 95.93-96.04 233.31 0 137.15 96.04 233.19 96.04 96.04 233.19 96.04ZM480-480Z"/></svg>
                    <h3>Order modality</h3>
                    <a href="/checkout">
                        <button class="modify-btn">modify</button>
                    </a>
                </div>
                <div id="summary-orderModality">
                </div>
            </div>
            
            <div class="summary-card">
                <div class="summary-header">
                    <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#444444"><path d="M421-324.92 677.08-581l-23.7-23.46L421-371.31 304.08-488.23l-22.7 23.46L421-324.92ZM480.13-120q-74.44 0-139.79-28.34t-114.48-77.42q-49.13-49.08-77.49-114.37Q120-405.42 120-479.87q0-74.67 28.34-140.41 28.34-65.73 77.42-114.36 49.08-48.63 114.37-76.99Q405.42-840 479.87-840q74.67 0 140.41 28.34 65.73 28.34 114.36 76.92 48.63 48.58 76.99 114.26Q840-554.81 840-480.13q0 74.44-28.34 139.79t-76.92 114.48q-48.58 49.13-114.26 77.49Q554.81-120 480.13-120Zm-.13-30.77q137.38 0 233.31-96.04 95.92-96.04 95.92-233.19 0-137.38-95.92-233.31-95.93-95.92-233.31-95.92-137.15 0-233.19 95.92-96.04 95.93-96.04 233.31 0 137.15 96.04 233.19 96.04 96.04 233.19 96.04ZM480-480Z"/></svg>
                    <h3>Biling data</h3>
                    <a href="/checkout">
                        <button class="modify-btn">modify</button>
                    </a>
                </div>
                <div id="summary-BilingData">
                </div>
            </div>
            
            <div class="summary-card">
                <div class="summary-header">
                    <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#444444"><path d="M421-324.92 677.08-581l-23.7-23.46L421-371.31 304.08-488.23l-22.7 23.46L421-324.92ZM480.13-120q-74.44 0-139.79-28.34t-114.48-77.42q-49.13-49.08-77.49-114.37Q120-405.42 120-479.87q0-74.67 28.34-140.41 28.34-65.73 77.42-114.36 49.08-48.63 114.37-76.99Q405.42-840 479.87-840q74.67 0 140.41 28.34 65.73 28.34 114.36 76.92 48.63 48.58 76.99 114.26Q840-554.81 840-480.13q0 74.44-28.34 139.79t-76.92 114.48q-48.58 49.13-114.26 77.49Q554.81-120 480.13-120Zm-.13-30.77q137.38 0 233.31-96.04 95.92-96.04 95.92-233.19 0-137.38-95.92-233.31-95.93-95.92-233.31-95.92-137.15 0-233.19 95.92-96.04 95.93-96.04 233.31 0 137.15 96.04 233.19 96.04 96.04 233.19 96.04ZM480-480Z"/></svg>
                    <h3>Payment method</h3>
                    <a href="/checkout">
                        <button class="modify-btn">modify</button>
                    </a>
                </div>
                <div id="summary-paymentMethod">
                </div>
            </div>
        </div>
        <div class="order-summary-container">
            <div class="order-summary-card">
                <div class="order-header">
                    <span class="order-title">
                        <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#444444"><path d="M421-324.92 677.08-581l-23.7-23.46L421-371.31 304.08-488.23l-22.7 23.46L421-324.92ZM480.13-120q-74.44 0-139.79-28.34t-114.48-77.42q-49.13-49.08-77.49-114.37Q120-405.42 120-479.87q0-74.67 28.34-140.41 28.34-65.73 77.42-114.36 49.08-48.63 114.37-76.99Q405.42-840 479.87-840q74.67 0 140.41 28.34 65.73 28.34 114.36 76.92 48.63 48.58 76.99 114.26Q840-554.81 840-480.13q0 74.44-28.34 139.79t-76.92 114.48q-48.58 49.13-114.26 77.49Q554.81-120 480.13-120Zm-.13-30.77q137.38 0 233.31-96.04 95.92-96.04 95.92-233.19 0-137.38-95.92-233.31-95.93-95.92-233.31-95.92-137.15 0-233.19 95.92-96.04 95.93-96.04 233.31 0 137.15 96.04 233.19 96.04 96.04 233.19 96.04ZM480-480Z"/></svg>
                        Order delivered by GymArticles
                    </span>
                </div>
                <div class="order-items">
                    <% cart.forEach(element => { %>
                        <div class="item">
                            <span><%= element.quantity %> x</span>
                            <span><%= element.name %></span>
                            <span class="price">$<%= element.price * element.quantity %></span>
                        </div>
                    <% }) %>
                </div>
                <div class="order-total">
                    <span>Delivery cost and processing:</span>
                    <span class="price" id="delivery-cost-processing"></span>
                </div>
            </div>
        </div>
        <div class="total-summary-container">
            <span id="order-total"></span>
            <button>Send order</button>
        </div>
      </div>
    <div class="footer"><%- include('Footer') %></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scripts/cart/addToCart.js"></script>
    <script src="scripts/orderSummary.js"></script>
</body>
</html>
